<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Discord-Style YouTube Embed</title>
<style>
  body { font-family: Arial, sans-serif; background: #111; color: #fff; display: flex; justify-content: center; padding: 50px; }
  .video-card { width: 480px; border-radius: 8px; overflow: hidden; background: #222; cursor: pointer; transition: transform 0.2s; }
  .video-card:hover { transform: scale(1.02); }
  .thumbnail { width: 100%; display: block; }
  .info { padding: 10px; }
  .title { font-size: 16px; font-weight: bold; margin: 0 0 5px 0; }
  .description { font-size: 14px; color: #ccc; margin: 0; }
  iframe { width: 100%; height: 270px; border: none; }
</style>
</head>
<body>

<div id="container">Loading...</div>

<script>
function createCard(videoURL){
  const idMatch = videoURL.match(/(?:v=|\/)([a-zA-Z0-9_-]{11})/);
  if(!idMatch) return document.getElementById('container').innerHTML = "Invalid YouTube link";
  const videoID = idMatch[1];

  const card = document.createElement('div');
  card.className = 'video-card';

  const thumbnail = document.createElement('img');
  thumbnail.className = 'thumbnail';
  thumbnail.src = `https://img.youtube.com/vi/${videoID}/hqdefault.jpg`;
  card.appendChild(thumbnail);

  const info = document.createElement('div');
  info.className = 'info';
  const title = document.createElement('p');
  title.className = 'title';
  title.innerText = `YouTube Video ${videoID}`;
  const desc = document.createElement('p');
  desc.className = 'description';
  desc.innerText = 'Click to play';
  info.appendChild(title);
  info.appendChild(desc);
  card.appendChild(info);

  card.addEventListener('click', () => {
    const iframe = document.createElement('iframe');
    iframe.src = `https://www.youtube-nocookie.com/embed/${videoID}?autoplay=1`;
    card.innerHTML = '';
    card.appendChild(iframe);
  });

  return card;
}

// Get ?= URL from query string
const params = new URLSearchParams(window.location.search);
const url = params.get('');

if(url){
  const container = document.getElementById('container');
  container.innerHTML = '';
  container.appendChild(createCard(url));
} else {
  document.getElementById('container').innerHTML = "No video URL provided. Use ?=LINK";
}
</script>

</body>
</html>
